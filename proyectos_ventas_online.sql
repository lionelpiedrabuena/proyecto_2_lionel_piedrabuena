
CREATE DATABASE Ventas_online;
USE Ventas_online;

-- Tabla Productos
CREATE TABLE Productos (
    codigo_producto INT PRIMARY KEY,
    nombre_producto VARCHAR(100) NOT NULL,
    precio DECIMAL(10,2) NOT NULL CHECK (precio > 0),
    stock INT DEFAULT 0 NOT NULL
);

-- Tabla Clientes
CREATE TABLE Clientes (
    dni_cliente INT PRIMARY KEY,
    nombre VARCHAR(100) NOT NULL,
    apellido VARCHAR(100) NOT NULL,
    email VARCHAR(150) UNIQUE
);

-- Tabla Ordenes
CREATE TABLE Ordenes (
    id_orden INT AUTO_INCREMENT PRIMARY KEY,
    codigo_producto INT NOT NULL,
    dni_cliente INT NOT NULL,
    cantidad INT NOT NULL CHECK (cantidad > 0),
    fecha DATE NOT NULL,
    total DECIMAL(10,2) NOT NULL,
    
    FOREIGN KEY (codigo_producto)
        REFERENCES Productos(codigo_producto)
        ON UPDATE CASCADE
        ON DELETE RESTRICT,
    FOREIGN KEY (dni_cliente)
        REFERENCES Clientes(dni_cliente)
        ON UPDATE CASCADE
        ON DELETE RESTRICT
);

-- Índices para rendimiento
CREATE INDEX idx_ordenes_cliente ON Ordenes(dni_cliente);
CREATE INDEX idx_ordenes_producto ON Ordenes(codigo_producto);

-- INSERTS: 10 productos
INSERT INTO Productos (codigo_producto, nombre_producto, precio, stock) VALUES
(1, 'Yerba Mate 1kg', 4200.00, 50),
(2, 'Azúcar 1kg', 1200.00, 80),
(3, 'Harina 000 1kg', 900.00, 100),
(4, 'Aceite Girasol 1L', 3500.00, 40),
(5, 'Arroz 1kg', 1300.00, 70),
(6, 'Fideos Spaghetti 500g', 800.00, 60),
(7, 'Gaseosa Cola 2.25L', 2500.00, 30),
(8, 'Leche Entera 1L', 1100.00, 90),
(9, 'Café Molido 500g', 3800.00, 25),
(10, 'Galletitas Chocolinas', 1500.00, 55);

-- INSERTS: 10 clientes
INSERT INTO Clientes (dni_cliente, nombre, apellido, email) VALUES
(40111222, 'Juan', 'Pérez', 'juan.perez@gmail.com'),
(40999888, 'María', 'Gómez', 'maria.gomez@gmail.com'),
(35000444, 'Luis', 'Rodríguez', 'luis.rodri@hotmail.com'),
(38999111, 'Camila', 'López', 'cami.lopez@yahoo.com'),
(40222333, 'Mateo', 'Sánchez', 'mateo.san@gmail.com'),
(37777888, 'Lucía', 'Martínez', 'lucia.mtz@gmail.com'),
(36666111, 'Sofía', 'Fernández', 'sofi.fer@hotmail.com'),
(34444999, 'Tomás', 'Ramos', 'tomas.r@gmail.com'),
(41122334, 'Julián', 'Díaz', 'julian.dz@gmail.com'),
(39555666, 'Valentina', 'Suárez', 'valen.suarez@yahoo.com');

-- INSERTS: 100 órdenes (10 por cliente en promedio)
-- Cliente 1 (40111222)
INSERT INTO Ordenes (codigo_producto, dni_cliente, cantidad, fecha, total) VALUES
(1, 40111222, 2, '2025-10-01', 8400.00),
(3, 40111222, 1, '2025-10-03', 900.00),
(5, 40111222, 3, '2025-10-05', 3900.00),
(8, 40111222, 2, '2025-10-07', 2200.00),
(10, 40111222, 1, '2025-10-09', 1500.00),
(2, 40111222, 4, '2025-10-11', 4800.00),
(6, 40111222, 5, '2025-10-13', 4000.00),
(4, 40111222, 1, '2025-10-15', 3500.00),
(7, 40111222, 2, '2025-10-17', 5000.00),
(9, 40111222, 1, '2025-10-19', 3800.00),

-- Cliente 2 (40999888)
(2, 40999888, 3, '2025-10-02', 3600.00),
(4, 40999888, 2, '2025-10-04', 7000.00),
(6, 40999888, 1, '2025-10-06', 800.00),
(8, 40999888, 4, '2025-10-08', 4400.00),
(10, 40999888, 2, '2025-10-10', 3000.00),
(1, 40999888, 1, '2025-10-12', 4200.00),
(5, 40999888, 2, '2025-10-14', 2600.00),
(7, 40999888, 1, '2025-10-16', 2500.00),
(3, 40999888, 3, '2025-10-18', 2700.00),
(9, 40999888, 1, '2025-10-20', 3800.00),

-- Cliente 3 (35000444)
(3, 35000444, 2, '2025-10-01', 1800.00),
(5, 35000444, 1, '2025-10-03', 1300.00),
(7, 35000444, 3, '2025-10-05', 7500.00),
(9, 35000444, 2, '2025-10-07', 7600.00),
(1, 35000444, 1, '2025-10-09', 4200.00),
(4, 35000444, 1, '2025-10-11', 3500.00),
(6, 35000444, 4, '2025-10-13', 3200.00),
(8, 35000444, 2, '2025-10-15', 2200.00),
(10, 35000444, 1, '2025-10-17', 1500.00),
(2, 35000444, 2, '2025-10-19', 2400.00),

-- Cliente 4 (38999111)
(4, 38999111, 2, '2025-10-02', 7000.00),
(6, 38999111, 3, '2025-10-04', 2400.00),
(8, 38999111, 1, '2025-10-06', 1100.00),
(10, 38999111, 2, '2025-10-08', 3000.00),
(1, 38999111, 2, '2025-10-10', 8400.00),
(3, 38999111, 1, '2025-10-12', 900.00),
(5, 38999111, 3, '2025-10-14', 3900.00),
(7, 38999111, 1, '2025-10-16', 2500.00),
(9, 38999111, 1, '2025-10-18', 3800.00),
(2, 38999111, 4, '2025-10-20', 4800.00),

-- Cliente 5 (40222333)
(5, 40222333, 4, '2025-10-01', 5200.00),
(7, 40222333, 2, '2025-10-03', 5000.00),
(9, 40222333, 1, '2025-10-05', 3800.00),
(1, 40222333, 1, '2025-10-07', 4200.00),
(3, 40222333, 2, '2025-10-09', 1800.00),
(6, 40222333, 5, '2025-10-11', 4000.00),
(8, 40222333, 3, '2025-10-13', 3300.00),
(10, 40222333, 1, '2025-10-15', 1500.00),
(2, 40222333, 2, '2025-10-17', 2400.00),
(4, 40222333, 1, '2025-10-19', 3500.00),

-- Cliente 6 (37777888)
(6, 37777888, 2, '2025-10-02', 1600.00),
(8, 37777888, 4, '2025-10-04', 4400.00),
(10, 37777888, 3, '2025-10-06', 4500.00),
(1, 37777888, 1, '2025-10-08', 4200.00),
(4, 37777888, 2, '2025-10-10', 7000.00),
(7, 37777888, 1, '2025-10-12', 2500.00),
(9, 37777888, 2, '2025-10-14', 7600.00),
(2, 37777888, 3, '2025-10-16', 3600.00),
(5, 37777888, 1, '2025-10-18', 1300.00),
(3, 37777888, 2, '2025-10-20', 1800.00),

-- Cliente 7 (36666111)
(7, 36666111, 1, '2025-10-01', 2500.00),
(9, 36666111, 1, '2025-10-03', 3800.00),
(1, 36666111, 3, '2025-10-05', 12600.00),
(3, 36666111, 1, '2025-10-07', 900.00),
(5, 36666111, 2, '2025-10-09', 2600.00),
(8, 36666111, 2, '2025-10-11', 2200.00),
(10, 36666111, 1, '2025-10-13', 1500.00),
(2, 36666111, 4, '2025-10-15', 4800.00),
(4, 36666111, 1, '2025-10-17', 3500.00),
(6, 36666111, 3, '2025-10-19', 2400.00),

-- Cliente 8 (34444999)
(8, 34444999, 1, '2025-10-02', 1100.00),
(10, 34444999, 2, '2025-10-04', 3000.00),
(1, 34444999, 1, '2025-10-06', 4200.00),
(4, 34444999, 3, '2025-10-08', 10500.00),
(6, 34444999, 2, '2025-10-10', 1600.00),
(9, 34444999, 1, '2025-10-12', 3800.00),
(2, 34444999, 3, '2025-10-14', 3600.00),
(5, 34444999, 1, '2025-10-16', 1300.00),
(7, 34444999, 2, '2025-10-18', 5000.00),
(3, 34444999, 2, '2025-10-20', 1800.00),

-- Cliente 9 (41122334)
(9, 41122334, 1, '2025-10-01', 3800.00),
(1, 41122334, 2, '2025-10-03', 8400.00),
(4, 41122334, 1, '2025-10-05', 3500.00),
(7, 41122334, 1, '2025-10-07', 2500.00),
(10, 41122334, 3, '2025-10-09', 4500.00),
(2, 41122334, 2, '2025-10-11', 2400.00),
(5, 41122334, 1, '2025-10-13', 1300.00),
(8, 41122334, 4, '2025-10-15', 4400.00),
(3, 41122334, 3, '2025-10-17', 2700.00),
(6, 41122334, 1, '2025-10-19', 800.00),

-- Cliente 10 (39555666)
(10, 39555666, 1, '2025-10-02', 1500.00),
(1, 39555666, 1, '2025-10-04', 4200.00),
(3, 39555666, 2, '2025-10-06', 1800.00),
(6, 39555666, 4, '2025-10-08', 3200.00),
(9, 39555666, 2, '2025-10-10', 7600.00),
(4, 39555666, 1, '2025-10-12', 3500.00),
(7, 39555666, 1, '2025-10-14', 2500.00),
(2, 39555666, 3, '2025-10-16', 3600.00),
(5, 39555666, 2, '2025-10-18', 2600.00),
(8, 39555666, 1, '2025-10-20', 1100.00);